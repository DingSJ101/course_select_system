{% extends "admin/manager.html" %}

{% block app_content %}
<div class="container mb-4"></div>
<h1 class="display-6" align="center">课程管理</h1>
<div class="container mb-4"></div>
<div class="container">
    <div class="row">
{#        <div class="col-md-2"></div>#}
        <div class="col-md-5">
            <h3 align="center">创建课程</h3>
            <br>
            <form action="/add_course" method="POST">
{#                <div class="row">#}
{#                    <div class="col-md-6">#}
                        <div class="form-group">
                            <label>课程号</label>
                            <input type="number" name="CourseNum" class="form-control" placeholder="课程号" required>
                        </div>
{#                    </div>#}
{#                    <div class="col-md-6">#}
                        <div class="form-group">
                            <label>课程名</label>
                            <input type="text" name="CourseName" class="form-control" placeholder="课程名" required>
                        </div>
{#                    </div>#}
{#                </div>#}
{#                <div class="row">#}
{#                    <div class="col-md-5">#}
                        <div class="form-group">
                            <label>课程学分</label>
                            <select type="number" name="CourseCredit" class="form-control custom-select" placeholder="课程学分" required>
                                <option>0.5</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>
{#                    </div>#}
{#                    <div class="col-md-6">#}
                        <div class="form-group">
                            <label>课程容量</label>
                            <input type="text" name="CourseCapacity" class="form-control" placeholder="课程容量" required>
                        </div>
{#                    </div>#}
{#                </div>#}
{#                <div class="form-group">#}
{#                    <label>开课学院</label>#}
{#                    <select type="text" name="DeptName" class="form-control custom-select" placeholder="学院名" required>#}
{#                        {% if info %}#}
{#                        {% for dept in info.depts %}#}
{#                        <option>{{ dept }}</option>#}
{#                        {% endfor %}#}
{#                        {% else %}#}
{#                        <option>无学院信息，请录入</option>#}
{#                        {% endif %}#}
{#                    </select>#}
{#                </div>#}
{#                <div class="form-group">#}
{#                    <label>课程描述</label>#}
{#                    <textarea name="CourseDesc" class="form-control" rows="3"></textarea>#}
{#                </div>#}
                <button type="submit" class="btn btn-success btn-block">创建课程</button>
            </form>
        </div>
        <div class="col-md-2"></div>
        <div class="col-md-5">
            <h3 align="center">教师开设班级</h3>
            <br>
            <form action="/add_course_teacher" method="POST">
            <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>班级号</label>
                    <input type="text" name="ClassNum" class="form-control" placeholder="班级号" required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>课程号</label>
                    <input type="text" name="CourseNum" class="form-control" placeholder="课程号" required>
{#                            {% if info %}#}
{#                            {% for course in info.courses %}#}
{#                            <option>{{ course }}</option>#}
{#                            {% endfor %}#}
{#                            {% else %}#}
{#                            <option>无课程信息，请录入</option>#}
{#                            {% endif %}#}
                        </input>
                </div>
            </div>
            </div>
                <div class="form-group">
                    <label>教师号</label>
                    <input type="text" name="TeacherNum" class="form-control" placeholder="教师号" required>
{#                            {% if info %}#}
{#                            {% for teacher in info.teachers %}#}
{#                            <option>{{ teacher }}</option>#}
{#                            {% endfor %}#}
{#                            {% else %}#}
{#                            <option>无教师信息，请录入</option>#}
{#                            {% endif %}#}
                        </input>
                    </div>
                <div class="form-group">
                    <label>上课时间</label>
                    <input type="text" name="ClassTime" class="form-control" placeholder="eg. 二3-4" required>
                </div>
                <div class="form-group">
                    <label>上课地点</label>
                    <input type="text" name="ClassVenue" class="form-control" placeholder="eg. DJ102" required>
                </div>
                <button type="submit" class="btn btn-success btn-block">开设课程</button>
            </form>
        </div>
    </div>
    <div class="container mb-4"></div>
    <div class="row">
            <table class="table table-striped table-hover">
                    <thead class="thead-light bg-info">
                <tr>
                    <th class="lead">课程号</th>
                    <th class="lead">课程名</th>
                    <th class="lead">班级号</th>
                    <th class="lead">课程学分</th>
{#                    <th class="lead">课程学时</th>#}
{#                    <th class="lead">开课学院</th>#}
                    <th class="lead">教师号</th>
                    <th class="lead">教师名</th>
                    <th class="lead">课程管理</th>
                </tr>
                    </thead>
                    <tbody>
                    {% if tables %}
                    {% for table in tables %}
                    <tr>
                       <td class="lead">{{ table.CourseNum }}</td>
                       <td class="lead">{{ table.CourseName }}</td>
                       <td class="lead">{{ table.ClassNum }}</td>
                       <td class="lead">{{ table.CourseCredit }}</td>
                       <td class="lead">{{ table.TeacherNum }}</td>
                       <td class="lead">{{ table.TeacherName }}</td>
                       <td class="lead">
                            <a href="{{ url_for('course_delete', CourseNum=table.CourseNum) }}" class="btn btn-outline-danger btn-sm" role="button">删除课程</a>
                       </td>
                    </tr>
                    {% endfor %}
                    {% endif %}
{#                {% if courses %}#}
{#                {% for course in courses %}#}
{#                <tr>#}
{#                   <td class="lead">{{ course.CourseNum }}</td>#}
{#                   <td class="lead">{{ course.CourseName }}</td>#}
{#                   <td class="lead">{{ course.CourseCredit }}</td>#}
{#                   <td class="lead">{{ course.CourseTime }}</td>#}
{#                   <td class="lead">{{ course.dept.DeptName }}</td>#}
{#                   <td class="lead">#}
{#                      {% if course.Teachers %}#}
{#                        {% if course.Classes[course].TeacherNum %}#}
{#                            {% for teacher in course.Teachers %}#}
{#                                {{ teacher.TeacherNum }}<br>#}
{#                            {% endfor %}#}
{#                        {% endif %}#}
{#                   </td>#}
{#                   <td class="lead">#}
{#                        {% if course.Teachers %}#}
{#                            {% for teacher in course.Teachers %}#}
{#                                {{ teacher.TeacherName }}<br>#}
{#                            {% endfor %}#}
{#                        {% endif %}#}
{#                   </td>#}
{#                   <td class="lead">#}
{#                        <a href="{{ url_for('course_delete', CourseNum=course.CourseNum) }}" class="btn btn-outline-danger btn-sm" role="button">删除课程</a>#}
{#                   </td>#}
{#                </tr>#}
{#                {% endfor %}#}
{#                {% endif %}#}
            </tbody>
            </table>
    </div>
</div>


{% endblock %}